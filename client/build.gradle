/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'org.jetbrains.intellij' version "0.3.12"
}

repositories {
    mavenLocal()
    //flatDir {
//    dirs 'libs'
//}
}

allprojects {
    apply plugin: 'java'
    sourceCompatibility = 1.7
    targetCompatibility = 1.7
    tasks.withType(JavaCompile) { options.encoding = 'UTF-8' }

    sourceSets {
        main {
            java.srcDirs 'src', 'gen'
            resources.srcDirs 'resources', 'plugin/resources'
        }
        test {
            java.srcDir 'tests'
        }
    }

    apply plugin: 'org.jetbrains.intellij'
    intellij {
        version ideaVersion
        plugins 'copyright'
        downloadSources Boolean.valueOf(sources)
        sameSinceUntilBuild Boolean.valueOf(isEAP)
        // alternativeIdePath localIdePath
    }

    dependencies {
        compile 'org.netbeans.html:net.java.html:1.5.1'
        compile 'org.netbeans.html:net.java.html.json:1.5.1'
        compile 'org.netbeans.html:net.java.html.boot:1.5.1'
        compile 'org.netbeans.html:net.java.html.sound:1.5.1'
        compile project(':regextester-js')
        compile 'org.netbeans.html:net.java.html.boot.fx:1.5.1'
        runtime 'org.netbeans.html:ko4j:1.5.1'
        testCompile 'com.dukescript.api:junit-osgi:4.12'
        testCompile 'com.dukescript.api:junit-browser-runner:1.0'
        compileOnly 'org.openjfx:javafx-web:11'
        compileOnly 'org.openjfx:javafx-controls:11'
        compileOnly 'org.openjfx:javafx-swing:11'
        // compile name: 'util-1.0'
        // system 'com.jetbrains:util:1.0'
        // system 'com.jetbrains:openapi:1.0'
        // system 'com.jetbrains:platform:1.0'
        // system 'com.jetbrains:annotations:1.0'
    }

    description = 'regextester General Client Code'

    apply plugin: 'idea'
    idea {
        project {
            jdkName = javaVersion
            languageLevel = javaVersion
        }
        module {
            generatedSourceDirs += file('gen')
        }
    }
}